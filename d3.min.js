!function(){function t(t,n){for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}function n(){this._=Object.create(null)}function e(t){return(t+="")===Hn||t[0]===In?In+t:t}function r(t){return(t+="")[0]===In?t.slice(1):t}function i(t){return e(t)in this._}function u(t){return(t=e(t))in this._&&delete this._[t]}function o(){var t=[];for(var n in this._)t.push(r(n));return t}function a(){var t=0;for(var n in this._)++t;return t}function s(){for(var t in this._)return!1;return!0}function c(){}function l(t){function e(){for(var n,e=r,i=-1,u=e.length;++i<u;)(n=e[i].on)&&n.apply(this,arguments);return t}var r=[],i=new n;return e.on=function(n,e){var u,o=i.get(n);return arguments.length<2?o&&o.on:(o&&(o.on=null,r=r.slice(0,u=r.indexOf(o)).concat(r.slice(u+1)),i.remove(n)),e&&r.push(i.set(n,{on:e})),t)},e}function f(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var e=0,r=Un.length;r>e;++e){var i=Un[e]+n;if(i in t)return i}}function h(){var t=p(),n=v()-t;n>24?(isFinite(n)&&(clearTimeout(Fn),Fn=setTimeout(h,n)),Bn=0):(Bn=1,Jn(h))}function p(){var t=Date.now();for(Qn=Xn;Qn;)t>=Qn.t&&(Qn.f=Qn.c(t-Qn.t)),Qn=Qn.n;return t}function v(){for(var t,n=Xn,e=1/0;n;)n.f?n=t?t.n=n.n:Xn=n.n:(n.t<e&&(e=n.t),n=(t=n).n);return Vn=t,e}function g(t){return Gn(t,te),t}function d(t){return"function"==typeof t?t:function(){return Kn(t,this)}}function _(t){return"function"==typeof t?t:function(){return Wn(t,this)}}function m(t,n){function e(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,n)}function u(){this.setAttributeNS(t.space,t.local,n)}function o(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function a(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=Tn.ns.qualify(t),null==n?t.local?r:e:"function"==typeof n?t.local?a:o:t.local?u:i}function y(t){return t.trim().replace(/\s+/g," ")}function w(t){return new RegExp("(?:^|\\s+)"+Tn.requote(t)+"(?:\\s+|$)","g")}function x(t){return(t+"").trim().split(/^|\s+/)}function b(t,n){function e(){for(var e=-1;++e<i;)t[e](this,n)}function r(){for(var e=-1,r=n.apply(this,arguments);++e<i;)t[e](this,r)}t=x(t).map(A);var i=t.length;return"function"==typeof n?r:e}function A(t){var n=w(t);return function(e,r){if(i=e.classList)return r?i.add(t):i.remove(t);var i=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(i)||e.setAttribute("class",y(i+" "+t))):e.setAttribute("class",y(i.replace(n," ")))}}function N(t,n,e){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,n,e)}function u(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}return null==n?r:"function"==typeof n?u:i}function S(t,n){function e(){delete this[t]}function r(){this[t]=n}function i(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}return null==n?e:"function"==typeof n?i:r}function M(t){return"function"==typeof t?t:(t=Tn.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function T(){var t=this.parentNode;t&&t.removeChild(this)}function q(){this._=Object.create(null)}function E(t){return{__data__:t}}function P(t){return function(){return Zn(this,t)}}function z(t,n){return n>t?-1:t>n?1:t>=n?0:0/0}function C(t){return arguments.length||(t=z),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function L(){}function O(t,n,e){function r(){var n=this[o];n&&(this.removeEventListener(t,n,n.$),delete this[o])}function i(){var i=s(n,En(arguments));r.call(this),this.addEventListener(t,this[o]=i,i.$=e),i._=n}function u(){var n,e=new RegExp("^__on([^.]+)"+Tn.requote(t)+"$");for(var r in this)if(n=r.match(e)){var i=this[r];this.removeEventListener(n[1],i,i.$),delete this[r]}}var o="__on"+t,a=t.indexOf("."),s=D;a>0&&(t=t.slice(0,a));var c=re.get(t);return c&&(t=c,s=j),a?n?i:r:n?L:u}function D(t,n){return function(e){var r=Tn.event;Tn.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{Tn.event=r}}}function j(t,n){var e=D(t,n);return function(t){var n=this,r=t.relatedTarget;r&&(r===n||8&r.compareDocumentPosition(n))||e.call(n,t)}}function k(t,n){for(var e=0,r=t.length;r>e;e++)for(var i,u=t[e],o=0,a=u.length;a>o;o++)(i=u[o])&&n(i,o,e);return t}function R(t){return Gn(t,ie),t}function $(t){var n,e;return function(r,i,u){var o,a=t[u].update,s=a.length;for(u!=e&&(e=u,n=0),i>=n&&(n=i+1);!(o=a[n])&&++n<s;);return o}}function H(t){return"function"==typeof t?t:function(){return t}}function I(t){return t}function X(){return!0}function V(t){return t[0]}function B(t){return t[1]}function F(t){function n(n){function o(){c.push("M",u(t(l),a))}for(var s,c=[],l=[],f=-1,h=n.length,p=H(e),v=H(r);++f<h;)i.call(this,s=n[f],f)?l.push([+p.call(this,s,f),+v.call(this,s,f)]):l.length&&(o(),l=[]);return l.length&&o(),c.length?c.join(""):null}var e=V,r=B,i=X,u=Q,o=u.key,a=.7;return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n.defined=function(t){return arguments.length?(i=t,n):i},n.interpolate=function(t){return arguments.length?(o="function"==typeof t?u=t:(u=ce.get(t)||Q).key,n):o},n.tension=function(t){return arguments.length?(a=t,n):a},n}function Q(t){return t.join("L")}function U(t,n){return t.length<3?Q(t):t[0]+J(t,G(t,n))}function J(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return Q(t);var e=t.length!=n.length,r="",i=t[0],u=t[1],o=n[0],a=o,s=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=t[1],s=2),n.length>1){a=n[1],u=t[s],s++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var c=2;c<n.length;c++,s++)u=t[s],a=n[c],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var l=t[s];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+l[0]+","+l[1]}return r}function G(t,n){for(var e,r=[],i=(1-n)/2,u=t[0],o=t[1],a=1,s=t.length;++a<s;)e=u,u=o,o=t[a],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function K(t){return function(){var n,e;(n=this[t])&&(e=n[n.active])&&(--n.count?delete n[n.active]:delete this[t],n.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function W(t,n,e){return Gn(t,pe),t.namespace=n,t.id=e,t}function Y(t,n){var e,r={},i={};for(e in t)e in n?r[e]=en(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}}function Z(t,n){var e,r=[],i=[],u=t.length,o=n.length,a=Math.min(t.length,n.length);for(e=0;a>e;++e)r.push(en(t[e],n[e]));for(;u>e;++e)i[e]=t[e];for(;o>e;++e)i[e]=n[e];return function(t){for(e=0;a>e;++e)i[e]=r[e](t);return i}}function tn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function nn(t,n){var e,r,i,u=ge.lastIndex=de.lastIndex=0,o=-1,a=[],s=[];for(t+="",n+="";(e=ge.exec(t))&&(r=de.exec(n));)(i=r.index)>u&&(i=n.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,s.push({i:o,x:tn(e,r)})),u=de.lastIndex;return u<n.length&&(i=n.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?s[0]?(n=s[0].x,function(t){return n(t)+""}):function(){return n}:(n=s.length,function(t){for(var e,r=0;n>r;++r)a[(e=s[r]).i]=e.x(t);return a.join("")})}function en(t,n){for(var e,r=Tn.interpolators.length;--r>=0&&!(e=Tn.interpolators[r](t,n)););return e}function rn(t,n,e,r){var i=t.id,u=t.namespace;return k(t,"function"==typeof e?function(t,o,a){t[u][i].tween.set(n,r(e.call(t,t.__data__,o,a)))}:(e=r(e),function(t){t[u][i].tween.set(n,e)}))}function un(t){return null==t&&(t=""),function(){this.textContent=t}}function on(t){return function(n){return 0>=n?0:n>=1?1:t(n)}}function an(t){return function(n){return 1-t(1-n)}}function sn(t){return function(n){return.5*(.5>n?t(2*n):2-t(2-2*n))}}function cn(t){return t*t}function ln(t){return t*t*t}function fn(t){if(0>=t)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(.5>t?e:3*(t-n)+e-.75)}function hn(t){return function(n){return Math.pow(n,t)}}function pn(t){return 1-Math.cos(t*se)}function vn(t){return Math.pow(2,10*(t-1))}function gn(t){return 1-Math.sqrt(1-t*t)}function dn(t,n){var e;return arguments.length<2&&(n=.45),arguments.length?e=n/ae*Math.asin(1/t):(t=1,e=n/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-e)*ae/n)}}function _n(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}}function mn(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function yn(t){return null==t?"__transition__":"__transition_"+t+"__"}function wn(t,e,r,i,u){var o=t[r]||(t[r]={active:0,count:0}),a=o[i];if(!a){var s=u.time;a=o[i]={tween:new n,time:s,delay:u.delay,duration:u.duration,ease:u.ease,index:e},u=null,++o.count,Tn.timer(function(n){function u(n){if(o.active>i)return l();var r=o[o.active];r&&(--o.count,delete o[o.active],r.event&&r.event.interrupt.call(t,t.__data__,r.index)),o.active=i,a.event&&a.event.start.call(t,t.__data__,e),a.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&g.push(r)}),h=a.ease,f=a.duration,Tn.timer(function(){return v.c=c(n||1)?X:c,1},0,s)}function c(n){if(o.active!==i)return 1;for(var r=n/f,u=h(r),s=g.length;s>0;)g[--s].call(t,u);return r>=1?(a.event&&a.event.end.call(t,t.__data__,e),l()):void 0}function l(){return--o.count?delete o[i]:delete t[r],1}var f,h,p=a.delay,v=Qn,g=[];return v.t=p+s,n>=p?u(n-p):(v.c=u,void 0)},0,s)}}function xn(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function bn(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),An(n,e,t,r)}}function An(t,n,e,r){function i(){var t,n=s.status;if(!n&&Sn(s)||n>=200&&300>n||304===n){try{t=e.call(u,s)}catch(r){return o.error.call(u,r),void 0}o.load.call(u,t)}else o.error.call(u,s)}var u={},o=Tn.dispatch("beforesend","progress","load","error"),a={},s=new XMLHttpRequest,c=null;return!Cn.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()},s.onprogress=function(t){var n=Tn.event;Tn.event=t;try{o.progress.call(u,s)}finally{Tn.event=n}},u.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==n?delete a[t]:a[t]=n+"",u)},u.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",u):n},u.responseType=function(t){return arguments.length?(c=t,u):c},u.response=function(t){return e=t,u},["get","post"].forEach(function(t){u[t]=function(){return u.send.apply(u,[t].concat(En(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),s.open(e,t,!0),null==n||"accept"in a||(a.accept=n+",*/*"),s.setRequestHeader)for(var l in a)s.setRequestHeader(l,a[l]);return null!=n&&s.overrideMimeType&&s.overrideMimeType(n),null!=c&&(s.responseType=c),null!=i&&u.on("error",i).on("load",function(t){i(null,t)}),o.beforesend.call(u,s),s.send(null==r?null:r),u},u.abort=function(){return s.abort(),u},Tn.rebind(u,o,"on"),null==r?u:u.get(Nn(r))}function Nn(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}function Sn(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function Mn(t){return JSON.parse(t.responseText)}var Tn={version:"3.5.3"};Date.now||(Date.now=function(){return+new Date});var qn=[].slice,En=function(t){return qn.call(t)},Pn=document,zn=Pn.documentElement,Cn=window;try{En(zn.childNodes)[0].nodeType}catch(Ln){En=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}try{Pn.createElement("div").style.setProperty("opacity",0,"")}catch(On){var Dn=Cn.Element.prototype,jn=Dn.setAttribute,kn=Dn.setAttributeNS,Rn=Cn.CSSStyleDeclaration.prototype,$n=Rn.setProperty;Dn.setAttribute=function(t,n){jn.call(this,t,n+"")},Dn.setAttributeNS=function(t,n,e){kn.call(this,t,n,e+"")},Rn.setProperty=function(t,n,e){$n.call(this,t,n+"",e)}}Tn.map=function(t,e){var r=new n;if(t instanceof n)t.forEach(function(t,n){r.set(t,n)});else if(Array.isArray(t)){var i,u=-1,o=t.length;if(1===arguments.length)for(;++u<o;)r.set(u,t[u]);else for(;++u<o;)r.set(e.call(t,i=t[u],u),i)}else for(var a in t)r.set(a,t[a]);return r};var Hn="__proto__",In="\x00";t(n,{has:i,get:function(t){return this._[e(t)]},set:function(t,n){return this._[e(t)]=n},remove:u,keys:o,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:r(n),value:this._[n]});return t},size:a,empty:s,forEach:function(t){for(var n in this._)t.call(this,r(n),this._[n])}}),Tn.dispatch=function(){for(var t=new c,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=l(t);return t},c.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Tn.event=null;var Xn,Vn,Bn,Fn,Qn,Un=["webkit","ms","moz","Moz","o","O"],Jn=Cn[f(Cn,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Tn.timer=function(t,n,e){var r=arguments.length;2>r&&(n=0),3>r&&(e=Date.now());var i=e+n,u={c:t,t:i,f:!1,n:null};Vn?Vn.n=u:Xn=u,Vn=u,Bn||(Fn=clearTimeout(Fn),Bn=1,Jn(h))},Tn.timer.flush=function(){p(),v()};var Gn={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]},Kn=function(t,n){return n.querySelector(t)},Wn=function(t,n){return n.querySelectorAll(t)},Yn=zn.matches||zn[f(zn,"matchesSelector")],Zn=function(t,n){return Yn.call(t,n)};"function"==typeof Sizzle&&(Kn=function(t,n){return Sizzle(t,n)[0]||null},Wn=Sizzle,Zn=Sizzle.matchesSelector),Tn.selection=function(){return ue};var te=Tn.selection.prototype=[];te.select=function(t){var n,e,r,i,u=[];t=d(t);for(var o=-1,a=this.length;++o<a;){u.push(n=[]),n.parentNode=(r=this[o]).parentNode;for(var s=-1,c=r.length;++s<c;)(i=r[s])?(n.push(e=t.call(i,i.__data__,s,o)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return g(u)},te.selectAll=function(t){var n,e,r=[];t=_(t);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,s=o.length;++a<s;)(e=o[a])&&(r.push(n=En(t.call(e,e.__data__,a,i))),n.parentNode=e);return g(r)};var ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Tn.ns={prefix:ne,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&(e=t.slice(0,n),t=t.slice(n+1)),ne.hasOwnProperty(e)?{space:ne[e],local:t}:t}},te.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return t=Tn.ns.qualify(t),t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(m(n,t[n]));return this}return this.each(m(t,n))},Tn.requote=function(t){return t.replace(ee,"\\$&")};var ee=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;te.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=x(t)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(n=e.getAttribute("class");++i<r;)if(!w(t[i]).test(n))return!1;return!0}for(n in t)this.each(b(n,t[n]));return this}return this.each(b(t,n))},te.style=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(e in t)this.each(N(e,t[e],n));return this}if(2>r)return Cn.getComputedStyle(this.node(),null).getPropertyValue(t);e=""}return this.each(N(t,n,e))},te.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(S(n,t[n]));return this}return this.each(S(t,n))},te.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},te.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},te.append=function(t){return t=M(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},te.insert=function(t,n){return t=M(t),n=d(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},te.remove=function(){return this.each(T)},Tn.set=function(t){var n=new q;if(t)for(var e=0,r=t.length;r>e;++e)n.add(t[e]);return n},t(q,{has:i,add:function(t){return this._[e(t+="")]=!0,t},remove:u,values:o,size:a,empty:s,forEach:function(t){for(var n in this._)t.call(this,r(n))}}),te.data=function(t,e){function r(t,r){var i,u,o,a=t.length,f=r.length,h=Math.min(a,f),p=new Array(f),v=new Array(f),g=new Array(a);if(e){var d,_=new n,m=new Array(a);for(i=-1;++i<a;)_.has(d=e.call(u=t[i],u.__data__,i))?g[i]=u:_.set(d,u),m[i]=d;for(i=-1;++i<f;)(u=_.get(d=e.call(r,o=r[i],i)))?u!==!0&&(p[i]=u,u.__data__=o):v[i]=E(o),_.set(d,!0);for(i=-1;++i<a;)_.get(m[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<h;)u=t[i],o=r[i],u?(u.__data__=o,p[i]=u):v[i]=E(o);for(;f>i;++i)v[i]=E(r[i]);for(;a>i;++i)g[i]=t[i]}v.update=p,v.parentNode=p.parentNode=g.parentNode=t.parentNode,s.push(v),c.push(p),l.push(g)}var i,u,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++o<a;)(u=i[o])&&(t[o]=u.__data__);return t}var s=R([]),c=g([]),l=g([]);if("function"==typeof t)for(;++o<a;)r(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<a;)r(i=this[o],t);return c.enter=function(){return s},c.exit=function(){return l},c},te.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},te.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=P(t));for(var u=0,o=this.length;o>u;u++){i.push(n=[]),n.parentNode=(e=this[u]).parentNode;for(var a=0,s=e.length;s>a;a++)(r=e[a])&&t.call(r,r.__data__,a,u)&&n.push(r)}return g(i)},te.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},Tn.ascending=z,te.sort=function(t){t=C.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},te.on=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n=!1);for(e in t)this.each(O(e,t[e],n));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(O(t,n,e))};var re=Tn.map({mouseenter:"mouseover",mouseleave:"mouseout"});re.forEach(function(t){"on"+t in Pn&&re.remove(t)}),te.each=function(t){return k(this,function(n,e,r){t.call(n,n.__data__,e,r)})},te.call=function(t){var n=En(arguments);return t.apply(n[0]=this,n),this},te.empty=function(){return!this.node()},te.node=function(){for(var t=0,n=this.length;n>t;t++)for(var e=this[t],r=0,i=e.length;i>r;r++){var u=e[r];if(u)return u}return null},te.size=function(){var t=0;return k(this,function(){++t}),t};var ie=[];Tn.selection.enter=R,Tn.selection.enter.prototype=ie,ie.append=te.append,ie.empty=te.empty,ie.node=te.node,ie.call=te.call,ie.size=te.size,ie.select=function(t){for(var n,e,r,i,u,o=[],a=-1,s=this.length;++a<s;){r=(i=this[a]).update,o.push(n=[]),n.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(u=i[c])?(n.push(r[c]=e=t.call(i.parentNode,u.__data__,c,a)),e.__data__=u.__data__):n.push(null)}return g(o)},ie.insert=function(t,n){return arguments.length<2&&(n=$(this)),te.insert.call(this,t,n)},Tn.select=function(t){var n=["string"==typeof t?Kn(t,Pn):t];return n.parentNode=zn,g([n])},Tn.selectAll=function(t){var n=En("string"==typeof t?Wn(t,Pn):t);return n.parentNode=zn,g([n])};var ue=Tn.select(zn);Tn.svg={},Tn.functor=H,Math.abs;var oe=Math.PI,ae=2*oe,se=oe/2;Tn.svg.line=function(){return F(I)};var ce=Tn.map({linear:Q,cardinal:U});ce.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)}),te.transition=function(t){for(var n,e,r=le||++ve,i=yn(t),u=[],o=fe||{time:Date.now(),ease:fn,delay:0,duration:250},a=-1,s=this.length;++a<s;){u.push(n=[]);for(var c=this[a],l=-1,f=c.length;++l<f;)(e=c[l])&&wn(e,l,i,r,o),n.push(e)}return W(u,i,r)},te.interrupt=function(t){return this.each(null==t?he:K(yn(t)))};var le,fe,he=K(yn()),pe=[],ve=0;pe.call=te.call,pe.empty=te.empty,pe.node=te.node,pe.size=te.size,Tn.transition=function(t,n){return t&&t.transition?le?t.transition(n):t:ue.transition(t)},Tn.transition.prototype=pe,pe.select=function(t){var n,e,r,i=this.id,u=this.namespace,o=[];t=d(t);for(var a=-1,s=this.length;++a<s;){o.push(n=[]);for(var c=this[a],l=-1,f=c.length;++l<f;)(r=c[l])&&(e=t.call(r,r.__data__,l,a))?("__data__"in r&&(e.__data__=r.__data__),wn(e,l,u,i,r[u][i]),n.push(e)):n.push(null)}return W(o,u,i)},pe.selectAll=function(t){var n,e,r,i,u,o=this.id,a=this.namespace,s=[];t=_(t);for(var c=-1,l=this.length;++c<l;)for(var f=this[c],h=-1,p=f.length;++h<p;)if(r=f[h]){u=r[a][o],e=t.call(r,r.__data__,h,c),s.push(n=[]);for(var v=-1,g=e.length;++v<g;)(i=e[v])&&wn(i,v,a,o,u),n.push(i)}return W(s,a,o)},Tn.interpolateObject=Y,Tn.interpolateArray=Z,Tn.interpolateNumber=tn,Tn.interpolateString=nn;var ge=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,de=new RegExp(ge.source,"g");Tn.interpolate=en,Tn.interpolators=[function(t,n){var e=typeof n;return("string"===e?nn:Array.isArray(n)?Z:"object"===e&&isNaN(n)?Y:tn)(t,n)}],pe.tween=function(t,n){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(t):k(this,null==n?function(n){n[r][e].tween.remove(t)}:function(i){i[r][e].tween.set(t,n)})},pe.attr=function(t,n){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(t){return null==t?e:(t+="",function(){var n,e=this.getAttribute(a);return e!==t&&(n=o(e,t),function(t){this.setAttribute(a,n(t))})})}function u(t){return null==t?r:(t+="",function(){var n,e=this.getAttributeNS(a.space,a.local);return e!==t&&(n=o(e,t),function(t){this.setAttributeNS(a.space,a.local,n(t))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var o="transform"==t?d3_interpolateTransform:en,a=Tn.ns.qualify(t);return rn(this,"attr."+t,n,a.local?u:i)},pe.attrTween=function(t,n){function e(t,e){var r=n.call(this,t,e,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,e){var r=n.call(this,t,e,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Tn.ns.qualify(t);return this.tween("attr."+t,i.local?r:e)},pe.style=function(t,n,e){function r(){this.style.removeProperty(t)}function i(n){return null==n?r:(n+="",function(){var r,i=Cn.getComputedStyle(this,null).getPropertyValue(t);return i!==n&&(r=en(i,n),function(n){this.style.setProperty(t,r(n),e)})})}var u=arguments.length;if(3>u){if("string"!=typeof t){2>u&&(n="");for(e in t)this.style(e,t[e],n);return this}e=""}return rn(this,"style."+t,n,i)},pe.styleTween=function(t,n,e){function r(r,i){var u=n.call(this,r,i,Cn.getComputedStyle(this,null).getPropertyValue(t));return u&&function(n){this.style.setProperty(t,u(n),e)}}return arguments.length<3&&(e=""),this.tween("style."+t,r)},pe.text=function(t){return rn(this,"text",t,un)},pe.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var n;this[t].count<2&&(n=this.parentNode)&&n.removeChild(this)})};var _e=function(){return I},me=Tn.map({linear:_e,poly:hn,quad:function(){return cn},cubic:function(){return ln},sin:function(){return pn},exp:function(){return vn},circle:function(){return gn},elastic:dn,back:_n,bounce:function(){return mn}}),ye=Tn.map({"in":I,out:an,"in-out":sn,"out-in":function(t){return sn(an(t))}});Tn.ease=function(t){var n=t.indexOf("-"),e=n>=0?t.slice(0,n):t,r=n>=0?t.slice(n+1):"in";return e=me.get(e)||_e,r=ye.get(r)||I,on(r(e.apply(null,qn.call(arguments,1))))},pe.ease=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].ease:("function"!=typeof t&&(t=Tn.ease.apply(Tn,arguments)),k(this,function(r){r[e][n].ease=t}))},pe.delay=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].delay:k(this,"function"==typeof t?function(r,i,u){r[e][n].delay=+t.call(r,r.__data__,i,u)}:(t=+t,function(r){r[e][n].delay=t}))},pe.duration=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].duration:k(this,"function"==typeof t?function(r,i,u){r[e][n].duration=Math.max(1,t.call(r,r.__data__,i,u))}:(t=Math.max(1,t),function(r){r[e][n].duration=t}))},pe.each=function(t,n){var e=this.id,r=this.namespace;if(arguments.length<2){var i=fe,u=le;try{le=e,k(this,function(n,i,u){fe=n[r][e],t.call(n,n.__data__,i,u)})}finally{fe=i,le=u}}else k(this,function(i){var u=i[r][e];(u.event||(u.event=Tn.dispatch("start","end","interrupt"))).on(t,n)});return this},Tn.rebind=function(t,n){for(var e,r=1,i=arguments.length;++r<i;)t[e=arguments[r]]=xn(t,n,n[e]);return t},Tn.xhr=bn(I),Tn.json=function(t,n){return An(t,"application/json",Mn,n)},"function"==typeof define&&define.amd?define(Tn):"object"==typeof module&&module.exports&&(module.exports=Tn),this.d3=Tn}();